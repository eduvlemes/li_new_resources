<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exemplo Simples - Barra de Cupom com Starter</title>
</head>
<body>
    <h1>Exemplo: Barra de Cupom Condicional</h1>
    <p>Este exemplo mostra como carregar a barra de cupom apenas em condi√ß√µes espec√≠ficas.</p>

    <!-- PASSO 1: Carrega o starter -->
    <script src="starter.js"></script>
    
    <!-- PASSO 2: Define recursos e condi√ß√µes -->
    <script>
        // Recursos a serem carregados condicionalmente
        window.StarterResources = [
            // Configura√ß√£o da barra para desktop
            {
                name: "Config Barra Desktop",
                type: "inline",
                code: `
                    window.CouponBarConfig = {
                        title: "üñ•Ô∏è Oferta especial desktop - Frete gr√°tis! üñ•Ô∏è",
                        couponCode: "DESKTOP50",
                        timerEndDate: "2025-12-31 23:59:59",
                        colors: {
                            background: "#2c3e50",
                            titleColor: "#f39c12",
                            couponBackground: "#e74c3c"
                        }
                    };
                `,
                condition: {
                    type: "device.desktop"
                }
            },
            
            // Configura√ß√£o da barra para mobile
            {
                name: "Config Barra Mobile", 
                type: "inline",
                code: `
                    window.CouponBarConfig = {
                        title: "üì± Desconto mobile - 30% OFF! üì±",
                        couponCode: "MOBILE30",
                        timerEndDate: "2025-12-31 23:59:59",
                        colors: {
                            background: "#8e44ad",
                            titleColor: "#ffffff",
                            couponBackground: "#f39c12"
                        }
                    };
                `,
                condition: {
                    type: "device.mobile"
                }
            },
            
            // Carrega a barra apenas se estiver no per√≠odo de promo√ß√£o
            {
                name: "Barra de Cupom",
                type: "script",
                url: "barra_cupom.js",
                condition: {
                    conditions: [
                        { type: "time.after", value: "2025-11-01 00:00:00" },
                        { type: "time.before", value: "2025-12-31 23:59:59" }
                    ],
                    operator: "and"
                }
            }
        ];
    </script>

    <!-- Conte√∫do da p√°gina -->
    <div style="margin-top: 100px; padding: 20px;">
        <h2>Como Usar no Seu E-commerce</h2>
        
        <h3>1. Inserir o Starter na Loja:</h3>
        <pre><code>&lt;script src="https://seusite.com/starter.js"&gt;&lt;/script&gt;</code></pre>
        
        <h3>2. Configurar Recursos:</h3>
        <pre><code>&lt;script&gt;
window.StarterResources = [
    // Configura√ß√£o espec√≠fica para mobile
    {
        name: "Config Mobile",
        type: "inline", 
        code: \`window.CouponBarConfig = {
            title: "üì± Oferta Mobile! üì±",
            couponCode: "MOBILE20"
        };\`,
        condition: { type: "device.mobile" }
    },
    
    // Carrega barra apenas em p√°ginas de produto
    {
        name: "Barra de Cupom",
        type: "script",
        url: "https://seusite.com/barra_cupom.js",
        condition: { 
            type: "page.pathname.contains", 
            value: "/produto" 
        }
    }
];
&lt;/script&gt;</code></pre>

        <h3>3. Exemplos de Condi√ß√µes Pr√°ticas:</h3>
        
        <h4>Carregar apenas em p√°ginas espec√≠ficas:</h4>
        <pre><code>condition: { type: "page.pathname.contains", value: "/checkout" }</code></pre>
        
        <h4>Carregar apenas em dispositivos m√≥veis:</h4>
        <pre><code>condition: { type: "device.mobile" }</code></pre>
        
        <h4>Carregar apenas durante uma promo√ß√£o:</h4>
        <pre><code>condition: {
    conditions: [
        { type: "time.after", value: "2025-11-25 00:00:00" },
        { type: "time.before", value: "2025-11-30 23:59:59" }
    ],
    operator: "and"
}</code></pre>
        
        <h4>Carregar para usu√°rios que j√° compraram:</h4>
        <pre><code>condition: { type: "storage.local.exists", value: "customer_id" }</code></pre>
        
        <h4>Carregar apenas se carrinho tem itens:</h4>
        <pre><code>condition: { type: "dom.element.exists", value: ".cart-items" }</code></pre>

        <h3>4. Vantagens:</h3>
        <ul>
            <li>‚úÖ <strong>Performance:</strong> Carrega recursos apenas quando necess√°rio</li>
            <li>‚úÖ <strong>Segmenta√ß√£o:</strong> Diferentes recursos para diferentes usu√°rios</li>
            <li>‚úÖ <strong>Flexibilidade:</strong> M√∫ltiplas condi√ß√µes combinadas</li>
            <li>‚úÖ <strong>Manuten√ß√£o:</strong> Um √∫nico script starter para todos os clientes</li>
            <li>‚úÖ <strong>Controle:</strong> Cliente configura suas pr√≥prias condi√ß√µes</li>
        </ul>
    </div>

    <!-- Simula√ß√£o de ambiente -->
    <div style="margin-top: 30px; padding: 15px; background: #f8f9fa; border-radius: 5px;">
        <h4>üîç Status Atual (abra o console para ver):</h4>
        <p><strong>Dispositivo:</strong> <span id="device-type"></span></p>
        <p><strong>Largura da tela:</strong> <span id="screen-width"></span>px</p>
        <p><strong>URL atual:</strong> <span id="current-url"></span></p>
    </div>

    <script>
        // Atualiza informa√ß√µes na p√°gina
        document.getElementById('device-type').textContent = 
            /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) 
            ? 'Mobile' : 'Desktop';
        
        document.getElementById('screen-width').textContent = window.innerWidth;
        document.getElementById('current-url').textContent = window.location.href;
    </script>
</body>
</html>