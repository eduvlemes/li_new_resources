<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ImplementaÃ§Ã£o Real - E-commerce</title>
</head>
<body>
    <h1>ImplementaÃ§Ã£o para E-commerce Real</h1>
    <p>Exemplo de como implementar no tema da loja virtual.</p>

    <!-- ========================================= -->
    <!-- IMPLEMENTAÃ‡ÃƒO REAL PARA SHOPIFY/VTEX/etc -->
    <!-- ========================================= -->
    
    <!-- 1. Carrega o starter (coloque no header do tema) -->
    <script src="https://seudominio.com/starter.js"></script>
    
    <!-- 2. ConfiguraÃ§Ã£o dos recursos (coloque antes do </body>) -->
    <script>
        // ConfiguraÃ§Ãµes do Starter
        window.StarterDebug = false; // true apenas para desenvolvimento
        
        window.StarterResources = [
            
            // ====================
            // BARRA DE CUPOM
            // ====================
            
            // ConfiguraÃ§Ã£o para Black Friday (Desktop)
            {
                name: "Black Friday Config Desktop",
                type: "inline",
                code: `
                    window.CouponBarConfig = {
                        title: "ðŸ”¥ BLACK FRIDAY - AtÃ© 70% OFF + Frete GrÃ¡tis! ðŸ”¥",
                        couponCode: "BLACKFRIDAY70",
                        couponText: "CUPOM:",
                        timerEndDate: "2025-11-29 23:59:59",
                        colors: {
                            background: "#000000",
                            text: "#ffffff", 
                            titleColor: "#ff6600",
                            couponBackground: "#ff0000",
                            couponText: "#ffffff",
                            couponBorder: "#ffff00"
                        },
                        autoHide: true,
                        storageKey: "bf_coupon_hidden_2025"
                    };
                `,
                condition: {
                    conditions: [
                        { type: "time.after", value: "2025-11-25 00:00:00" },
                        { type: "time.before", value: "2025-11-30 23:59:59" },
                        { type: "device.desktop" }
                    ],
                    operator: "and"
                }
            },
            
            // ConfiguraÃ§Ã£o para Black Friday (Mobile) 
            {
                name: "Black Friday Config Mobile",
                type: "inline",
                code: `
                    window.CouponBarConfig = {
                        title: "ðŸ”¥ BLACK FRIDAY - 70% OFF! ðŸ”¥",
                        couponCode: "BLACKFRIDAY70",
                        couponText: "CUPOM:",
                        timerEndDate: "2025-11-29 23:59:59",
                        colors: {
                            background: "#000000",
                            text: "#ffffff",
                            titleColor: "#ff6600", 
                            couponBackground: "#ff0000",
                            couponText: "#ffffff"
                        },
                        autoHide: true,
                        storageKey: "bf_coupon_mobile_2025"
                    };
                `,
                condition: {
                    conditions: [
                        { type: "time.after", value: "2025-11-25 00:00:00" },
                        { type: "time.before", value: "2025-11-30 23:59:59" },
                        { type: "device.mobile" }
                    ],
                    operator: "and"
                }
            },
            
            // ConfiguraÃ§Ã£o padrÃ£o (fora da Black Friday)
            {
                name: "Cupom PadrÃ£o",
                type: "inline", 
                code: `
                    window.CouponBarConfig = {
                        title: "âœ¨ Primeira compra com 15% OFF - Cadastre-se! âœ¨",
                        couponCode: "PRIMEIRA15",
                        timerEndDate: "2025-12-31 23:59:59",
                        colors: {
                            background: "#4a90e2",
                            titleColor: "#ffffff",
                            couponBackground: "#2ecc71"
                        }
                    };
                `,
                condition: {
                    conditions: [
                        { type: "time.before", value: "2025-11-25 00:00:00" },
                        { type: "storage.local.exists", value: "first_time_visitor" }
                    ],
                    operator: "or"
                }
            },
            
            // Carrega a barra de cupom
            {
                name: "Barra de Cupom",
                type: "script",
                url: "https://seudominio.com/barra_cupom.js",
                condition: {
                    conditions: [
                        { type: "page.pathname.contains", value: "/produtos" },
                        { type: "page.pathname.contains", value: "/colecoes" },
                        { type: "page.pathname.contains", value: "/" }
                    ],
                    operator: "or"
                }
            },
            
            // ====================
            // POP-UP DE DESCONTO
            // ====================
            
            {
                name: "Pop-up Primeiro Acesso",
                type: "script",
                url: "https://seudominio.com/popup-desconto.js", 
                condition: {
                    conditions: [
                        { type: "storage.local.exists", value: "returning_visitor" },
                        { type: "device.desktop" },
                        { type: "time.hour.between", value: { start: 9, end: 22 } }
                    ],
                    operator: "and"
                }
            },
            
            // ====================
            // CARRINHO ABANDONADO
            // ====================
            
            {
                name: "Script Carrinho Abandonado",
                type: "script",
                url: "https://seudominio.com/carrinho-abandonado.js",
                condition: {
                    conditions: [
                        { type: "dom.element.exists", value: ".cart-item" },
                        { type: "page.pathname.contains", value: "/cart" }
                    ],
                    operator: "and"
                }
            },
            
            // ====================
            // CHECKOUT ENHANCEMENTS
            // ====================
            
            {
                name: "Checkout Melhorias",
                type: "script", 
                url: "https://seudominio.com/checkout-enhancer.js",
                condition: {
                    type: "page.pathname.contains",
                    value: "/checkout"
                }
            },
            
            // ====================
            // ANALYTICS AVANÃ‡ADO
            // ====================
            
            {
                name: "Analytics Produtos",
                type: "inline",
                code: `
                    // Track visualizaÃ§Ã£o de produtos
                    document.querySelectorAll('.produto-card').forEach(card => {
                        card.addEventListener('click', function() {
                            gtag('event', 'product_view', {
                                'product_id': this.dataset.productId,
                                'product_name': this.dataset.productName
                            });
                        });
                    });
                `,
                condition: {
                    conditions: [
                        { type: "dom.element.exists", value: ".produto-card" },
                        { type: "custom", value: () => typeof gtag !== 'undefined' }
                    ],
                    operator: "and"
                }
            },
            
            // ====================
            // CHAT/SUPORTE
            // ====================
            
            {
                name: "Chat Suporte",
                type: "script",
                url: "https://seudominio.com/chat-widget.js",
                condition: {
                    conditions: [
                        { type: "time.hour.between", value: { start: 8, end: 18 } },
                        { type: "time.day.of.week", value: 1 }, // Segunda a Sexta
                        { type: "time.day.of.week", value: 2 },
                        { type: "time.day.of.week", value: 3 },
                        { type: "time.day.of.week", value: 4 },
                        { type: "time.day.of.week", value: 5 }
                    ],
                    operator: "and"
                }
            },
            
            // ====================
            // RECOMENDAÃ‡Ã•ES
            // ====================
            
            {
                name: "RecomendaÃ§Ãµes AI",
                type: "script",
                url: "https://seudominio.com/recommendations.js", 
                condition: {
                    conditions: [
                        { type: "page.pathname.contains", value: "/produto/" },
                        { type: "dom.element.exists", value: "#recommendations-container" }
                    ],
                    operator: "and"
                }
            }
        ];
    </script>

    <!-- Exemplo de marcaÃ§Ã£o para testar condiÃ§Ãµes -->
    <div class="produto-card" data-product-id="123" data-product-name="Produto Teste">
        <h3>Produto de Exemplo</h3>
        <p>Este Ã© um produto para testar as condiÃ§Ãµes.</p>
    </div>

    <div id="recommendations-container">
        <!-- Container para recomendaÃ§Ãµes -->
    </div>

    <div class="cart-item">
        <!-- Item no carrinho -->
    </div>

    <!-- ConteÃºdo informativo -->
    <div style="margin-top: 50px; padding: 20px; background: #f8f9fa; border-radius: 5px;">
        <h2>ðŸ“‹ Checklist de ImplementaÃ§Ã£o</h2>
        
        <h3>1. PreparaÃ§Ã£o:</h3>
        <ul>
            <li>âœ… Hospede o arquivo <code>starter.js</code> no seu CDN</li>
            <li>âœ… Hospede os scripts especÃ­ficos (barra_cupom.js, etc.)</li>
            <li>âœ… Configure URLs absolutas para todos os recursos</li>
        </ul>

        <h3>2. ImplementaÃ§Ã£o no Tema:</h3>
        <ul>
            <li>âœ… Adicione o starter no <code>&lt;head&gt;</code> do tema</li>
            <li>âœ… Configure <code>window.StarterResources</code> antes do <code>&lt;/body&gt;</code></li>
            <li>âœ… Teste em ambiente de desenvolvimento primeiro</li>
        </ul>

        <h3>3. ConfiguraÃ§Ãµes por PerÃ­odo:</h3>
        <ul>
            <li>âœ… Black Friday: 25/11 atÃ© 29/11</li>
            <li>âœ… Natal: 01/12 atÃ© 25/12</li>
            <li>âœ… Ano Novo: 26/12 atÃ© 02/01</li>
            <li>âœ… PromoÃ§Ãµes pontuais: Configure datas especÃ­ficas</li>
        </ul>

        <h3>4. SegmentaÃ§Ã£o:</h3>
        <ul>
            <li>âœ… Desktop vs Mobile</li>
            <li>âœ… Primeira visita vs Retornando</li>
            <li>âœ… PÃ¡ginas especÃ­ficas</li>
            <li>âœ… HorÃ¡rio comercial</li>
            <li>âœ… Dias da semana</li>
        </ul>

        <h3>5. Monitoramento:</h3>
        <ul>
            <li>âœ… Ative debug em desenvolvimento</li>
            <li>âœ… Monitore console para erros</li>
            <li>âœ… Teste todas as condiÃ§Ãµes</li>
            <li>âœ… Valide datas de expiraÃ§Ã£o</li>
        </ul>
    </div>

    <!-- Script para simular primeira visita -->
    <script>
        // Simula primeira visita se nÃ£o existe o flag
        if (!localStorage.getItem('returning_visitor')) {
            localStorage.setItem('first_time_visitor', 'true');
            
            // Simula que depois de 30 segundos vira returning visitor
            setTimeout(() => {
                localStorage.setItem('returning_visitor', 'true');
                localStorage.removeItem('first_time_visitor');
            }, 30000);
        }
        
        // Simula gtag
        window.gtag = function() {
            console.log('Analytics Event:', arguments);
        };
    </script>
</body>
</html>