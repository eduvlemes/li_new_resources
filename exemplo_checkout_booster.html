<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout Booster - Sistema de Upsell</title>
</head>
<body>
    <h1>üõí Checkout Booster - Upsell Inteligente</h1>
    
    <!-- Simula p√°gina do carrinho -->
    <div class="pagina-carrinho">
        <h2>Seu Carrinho</h2>
        
        <!-- Produtos no carrinho (simula√ß√£o) -->
        <div class="produto-carrinho" data-produto-id="346647810">
            <h3>Produto 1 no Carrinho</h3>
            <p>R$ 99,90</p>
        </div>
        
        <div class="produto-carrinho" data-produto-id="346647811">
            <h3>Produto 2 no Carrinho</h3>
            <p>R$ 149,90</p>
        </div>
        
        <!-- O Checkout Booster ser√° inserido automaticamente aqui -->
    </div>

    <!-- ============================================ -->
    <!-- IMPLEMENTA√á√ÉO DO CHECKOUT BOOSTER -->
    <!-- ============================================ -->
    
    <!-- 1. CONFIGURA√á√ÉO (ANTES do script) -->
    <script>
        window.CheckoutBoosterConfig = {
            active: true,
            title: "üî• Aproveite e Leve Tamb√©m!",
            subtitle: "Produtos que combinam perfeitamente com sua compra",
            buttonText: "Adicionar ao Carrinho",
            maxProducts: 4,
            
            // Configura√ß√£o da API
            apiBaseUrl: "https://demo-alpix-dev-playground.lojaintegrada.com.br/_search",
            
            // Personaliza√ß√£o visual
            colors: {
                background: "#ffffff",
                border: "#e5e7eb",
                titleColor: "#1f2937",
                subtitleColor: "#6b7280",
                buttonBackground: "#3b82f6",
                buttonText: "#ffffff",
                buttonHover: "#2563eb",
                priceColor: "#059669"
            },
            
            // Configura√ß√µes de comportamento
            showOnPages: ['.pagina-carrinho'],
            productSelector: '[data-produto-id]',
            autoLoad: true
        };
    </script>
    
    <!-- 2. CARREGA O SCRIPT -->
    <script src="checkout_booster.js"></script>

    <!-- Conte√∫do da p√°gina -->
    <div style="margin-top: 50px; padding: 20px;">
        <h2>üìã Como Implementar:</h2>
        
        <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0;">
            <h3>üöÄ Implementa√ß√£o R√°pida:</h3>
            <pre style="background: #2d3748; color: #e2e8f0; padding: 15px; border-radius: 5px; overflow-x: auto;"><code>&lt;!-- 1. Configure antes do script --&gt;
&lt;script&gt;
window.CheckoutBoosterConfig = {
    active: true,
    title: "üî• Aproveite e Leve Tamb√©m!",
    apiBaseUrl: "https://sua-loja.lojaintegrada.com.br/_search",
    maxProducts: 4
};
&lt;/script&gt;

&lt;!-- 2. Carregue o script --&gt;
&lt;script src="checkout_booster.js"&gt;&lt;/script&gt;</code></pre>
        </div>

        <div style="background: #fff3cd; padding: 15px; border-radius: 5px; margin: 15px 0;">
            <h3>üîß Estrat√©gias de Busca (M√∫ltiplas):</h3>
            <p>Como os filtros m√∫ltiplos n√£o funcionaram, o sistema usa <strong>4 estrat√©gias inteligentes:</strong></p>
            <ol>
                <li><strong>üìà Busca Geral:</strong> Termos como "produto", "oferta", "promo√ß√£o"</li>
                <li><strong>üîç Busca Individual:</strong> Cada produto do carrinho separadamente</li>
                <li><strong>üèÜ Produtos Populares:</strong> Ordenados por popularidade/novidade</li>
                <li><strong>üì¶ Fallback:</strong> Produtos exemplo se nada funcionar</li>
            </ol>
            <p><strong>‚úÖ Resultado:</strong> Sempre mostra produtos, mesmo se a API falhar!</p>
        </div>

        <div style="background: #d4edda; padding: 15px; border-radius: 5px; margin: 15px 0;">
            <h3>‚öôÔ∏è Configura√ß√µes Dispon√≠veis:</h3>
            <ul>
                <li><strong>active:</strong> Ativa/desativa o sistema</li>
                <li><strong>title/subtitle:</strong> Textos do cabe√ßalho</li>
                <li><strong>buttonText:</strong> Texto do bot√£o</li>
                <li><strong>maxProducts:</strong> M√°ximo de produtos a mostrar</li>
                <li><strong>apiBaseUrl:</strong> URL base da API de busca</li>
                <li><strong>showOnPages:</strong> Seletores onde o upsell aparece</li>
                <li><strong>productSelector:</strong> Seletor dos produtos no carrinho</li>
                <li><strong>colors:</strong> Personaliza√ß√£o visual completa</li>
            </ul>
        </div>

        <div style="background: #f8d7da; padding: 15px; border-radius: 5px; margin: 15px 0;">
            <h3>‚ö†Ô∏è Importante - Funcionamento Garantido:</h3>
            <p>O sistema foi redesenhado para <strong>SEMPRE funcionar</strong>:</p>
            <ol>
                <li><strong>‚úÖ M√∫ltiplas estrat√©gias:</strong> 4 formas diferentes de buscar produtos</li>
                <li><strong>‚úÖ Fallback inteligente:</strong> Produtos exemplo se API falhar</li>
                <li><strong>‚úÖ M√©todos de adi√ß√£o:</strong> Formul√°rio + AJAX como backup</li>
                <li><strong>‚úÖ Debug completo:</strong> Logs no console para diagn√≥stico</li>
            </ol>
            <p><strong>üéØ Resultado:</strong> Upsell sempre aparece, mesmo com problemas de API!</p>
        </div>

        <div style="background: #d1ecf1; padding: 15px; border-radius: 5px; margin: 15px 0;">
            <h3>üéØ Funcionalidades:</h3>
            <ul>
                <li>‚úÖ <strong>Detec√ß√£o autom√°tica</strong> de produtos no carrinho</li>
                <li>‚úÖ <strong>M√∫ltiplos formatos de API</strong> testados automaticamente</li>
                <li>‚úÖ <strong>Design responsivo</strong> para mobile e desktop</li>
                <li>‚úÖ <strong>Anima√ß√µes suaves</strong> e feedback visual</li>
                <li>‚úÖ <strong>Estados de loading</strong> e erro</li>
                <li>‚úÖ <strong>Fallback inteligente</strong> se API falhar</li>
                <li>‚úÖ <strong>Personaliza√ß√£o total</strong> de cores e textos</li>
            </ul>
        </div>
    </div>

    <!-- Debug: Mostra IDs encontrados -->
    <div style="margin: 20px; padding: 15px; background: #f0f0f0; border-radius: 5px;">
        <h3>üîç Debug - IDs dos Produtos no Carrinho:</h3>
        <p id="debug-ids">Carregando...</p>
        
        <script>
            // Mostra os IDs encontrados para debug
            document.addEventListener('DOMContentLoaded', function() {
                const products = document.querySelectorAll('[data-produto-id]');
                const ids = Array.from(products).map(el => el.getAttribute('data-produto-id'));
                document.getElementById('debug-ids').textContent = ids.length > 0 ? ids.join(', ') : 'Nenhum ID encontrado';
            });
        </script>
    </div>
</body>
</html>